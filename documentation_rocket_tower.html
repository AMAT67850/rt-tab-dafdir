<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>📚 Documentation ROCKET TOWER • Guide Utilisateur Complet</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #333;
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }
        
        /* Header Cohérent avec le style ROCKET TOWER */
        .header {
            background: linear-gradient(135deg, #2c3e50 0%, #3498db 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }
        
        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            font-weight: 700;
        }
        
        .subtitle {
            font-size: 1.1em;
            opacity: 0.9;
            font-weight: 300;
        }
        
        /* Navigation et recherche */
        .nav-section {
            background: #f8f9fa;
            padding: 20px 30px;
            border-bottom: 1px solid #e9ecef;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 15px;
        }
        
        .nav-menu {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
        }
        
        .nav-item {
            padding: 8px 16px;
            background: white;
            border: 2px solid #e9ecef;
            border-radius: 25px;
            text-decoration: none;
            color: #495057;
            font-weight: 500;
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .nav-item:hover, .nav-item.active {
            background: #007bff;
            color: white;
            border-color: #007bff;
            transform: translateY(-2px);
        }
        
        .search-box {
            display: flex;
            gap: 10px;
            align-items: center;
        }
        
        .search-input {
            padding: 8px 15px;
            border: 2px solid #e9ecef;
            border-radius: 20px;
            font-size: 0.9em;
            width: 250px;
            outline: none;
        }
        
        .search-input:focus {
            border-color: #007bff;
        }
        
        .btn {
            padding: 8px 16px;
            border: none;
            border-radius: 20px;
            cursor: pointer;
            text-decoration: none;
            font-weight: 500;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            gap: 5px;
        }
        
        .btn-primary {
            background: #007bff;
            color: white;
        }
        
        .btn-secondary {
            background: #6c757d;
            color: white;
        }
        
        .btn:hover {
            transform: translateY(-2px);
        }
        
        /* Contenu principal */
        .main-content {
            padding: 30px;
        }
        
        .section {
            display: none;
            animation: fadeIn 0.3s ease;
        }
        
        .section.active {
            display: block;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        /* Cards et sections */
        .card {
            background: white;
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 20px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            border-left: 5px solid #007bff;
        }
        
        .card h2 {
            color: #2c3e50;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .card h3 {
            color: #495057;
            margin: 20px 0 10px 0;
            font-size: 1.3em;
        }
        
        .card h4 {
            color: #6c757d;
            margin: 15px 0 8px 0;
            font-size: 1.1em;
        }
        
        /* Grilles et listes */
        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        
        .feature-box {
            background: rgba(0, 123, 255, 0.1);
            padding: 20px;
            border-radius: 10px;
            border-left: 4px solid #007bff;
        }
        
        .feature-title {
            font-weight: 600;
            color: #2c3e50;
            margin-bottom: 8px;
        }
        
        .step-list {
            list-style: none;
            counter-reset: step-counter;
        }
        
        .step-list li {
            counter-increment: step-counter;
            margin: 15px 0;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 8px;
            border-left: 4px solid #28a745;
            position: relative;
        }
        
        .step-list li::before {
            content: counter(step-counter);
            position: absolute;
            left: -15px;
            top: 15px;
            background: #28a745;
            color: white;
            width: 25px;
            height: 25px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 0.8em;
        }
        
        /* Tableaux */
        .table-responsive {
            overflow-x: auto;
            margin: 15px 0;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            background: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }
        
        th, td {
            padding: 12px 15px;
            text-align: left;
            border-bottom: 1px solid #e9ecef;
        }
        
        th {
            background: #f8f9fa;
            font-weight: 600;
            color: #495057;
        }
        
        tr:hover {
            background: #f8f9fa;
        }
        
        /* Alertes et highlights */
        .alert {
            padding: 15px 20px;
            margin: 15px 0;
            border-radius: 8px;
            border-left: 4px solid;
        }
        
        .alert-info {
            background: rgba(0, 123, 255, 0.1);
            border-color: #007bff;
            color: #004085;
        }
        
        .alert-success {
            background: rgba(40, 167, 69, 0.1);
            border-color: #28a745;
            color: #155724;
        }
        
        .alert-warning {
            background: rgba(255, 193, 7, 0.1);
            border-color: #ffc107;
            color: #856404;
        }
        
        .highlight {
            background: linear-gradient(120deg, #a8e6cf 0%, #dcedc1 100%);
            padding: 3px 6px;
            border-radius: 4px;
            font-weight: 500;
        }
        
        /* Code et exemples */
        .code-block {
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 8px;
            padding: 15px;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
            margin: 10px 0;
            overflow-x: auto;
        }
        
        /* Stats dashboard */
        .stats-summary {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        
        .stat-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
        }
        
        .stat-number {
            font-size: 2em;
            font-weight: bold;
            margin-bottom: 5px;
        }
        
        .stat-label {
            font-size: 0.9em;
            opacity: 0.9;
        }

        /* NOUVELLES CLASSES POUR SYNCHRONISATION */
        .sync-workflow {
            display: grid;
            grid-template-columns: 1fr auto 1fr;
            gap: 20px;
            align-items: center;
            margin: 30px 0;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 12px;
        }
        
        .person-card {
            background: linear-gradient(135deg, #74b9ff, #0984e3);
            color: white;
            padding: 20px;
            border-radius: 12px;
            text-align: center;
        }
        
        .person-card h4 {
            margin: 0 0 8px 0;
            font-size: 1.2em;
            color: white;
        }
        
        .person-role {
            opacity: 0.9;
            font-size: 0.9em;
            color: white;
        }
        
        .sync-arrow {
            font-size: 2em;
            color: #007bff;
            text-align: center;
        }
        
        .step-actions {
            background: #e8f4fd;
            padding: 15px;
            border-radius: 8px;
            margin: 10px 0;
        }
        
        .step-actions strong {
            color: #0056b3;
        }
        
        .timeline {
            position: relative;
            padding-left: 30px;
        }
        
        .timeline::before {
            content: '';
            position: absolute;
            left: 15px;
            top: 0;
            bottom: 0;
            width: 2px;
            background: #007bff;
        }
        
        .timeline-item {
            position: relative;
            margin-bottom: 20px;
            padding: 15px 20px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }
        
        .timeline-item::before {
            content: '';
            position: absolute;
            left: -26px;
            top: 20px;
            width: 12px;
            height: 12px;
            background: #007bff;
            border-radius: 50%;
            border: 3px solid white;
        }
        
        /* Responsive */
        @media (max-width: 768px) {
            .container {
                margin: 10px;
                border-radius: 10px;
            }
            
            .header {
                padding: 20px;
            }
            
            .header h1 {
                font-size: 2em;
            }
            
            .nav-section {
                flex-direction: column;
                align-items: stretch;
            }
            
            .nav-menu {
                justify-content: center;
            }
            
            .search-box {
                justify-content: center;
            }
            
            .search-input {
                width: 100%;
                max-width: 300px;
            }
            
            .main-content {
                padding: 20px;
            }
            
            .feature-grid {
                grid-template-columns: 1fr;
            }
            
            .stats-summary {
                grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            }

            .sync-workflow {
                grid-template-columns: 1fr;
                gap: 15px;
            }
            
            .sync-arrow {
                transform: rotate(90deg);
            }
        }
        
        /* Print styles */
        @media print {
            body {
                background: white;
                font-size: 12px;
            }
            
            .container {
                box-shadow: none;
                background: white;
            }
            
            .header {
                background: #2c3e50 !important;
                -webkit-print-color-adjust: exact;
            }
            
            .nav-section {
                display: none;
            }
            
            .section {
                display: block !important;
            }
            
            .card {
                break-inside: avoid;
                box-shadow: none;
                border: 1px solid #dee2e6;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1>📚 Documentation ROCKET TOWER</h1>
            <p class="subtitle">Guide Utilisateur Complet • Architecture Modulaire & Synchronisation Hybride</p>
        </div>

        <!-- Navigation -->
        <div class="nav-section">
            <div class="nav-menu">
                <div class="nav-item active" onclick="showSection('demarrage', this)">🚀 Démarrage</div>
                <div class="nav-item" onclick="showSection('modules', this)">🔧 Modules</div>
                <div class="nav-item" onclick="showSection('synchronisation', this)">🔄 Synchronisation</div>
                <div class="nav-item" onclick="showSection('analytics', this)">📈 Analytics</div>
                <div class="nav-item" onclick="showSection('depannage', this)">⚙️ Dépannage</div>
            </div>
            <div class="search-box">
                <input type="text" class="search-input" placeholder="Rechercher dans la documentation..." onkeyup="rechercherContenu(this.value)">
                <a href="index.html" class="btn btn-primary">🏠 Dashboard</a>
            </div>
        </div>

        <!-- Contenu principal -->
        <div class="main-content">
            <!-- SECTION DÉMARRAGE -->
            <div id="demarrage" class="section active">
                <div class="card">
                    <h2>🚀 Guide de Démarrage Rapide</h2>

                    <h3>📋 Première Utilisation (5 minutes)</h3>
                    <ol class="step-list">
                        <li><strong>Accédez au Dashboard :</strong> Ouvrez <code>index.html</code> - c'est votre point d'entrée unique</li>
                        <li><strong>Explorez les modules :</strong> Cliquez sur chaque module pour découvrir les fonctionnalités</li>
                        <li><strong>Vérifiez vos données :</strong> Consultez les données intégrées dans chaque module</li>
                        <li><strong>Testez la navigation :</strong> Utilisez les boutons "🏠 Dashboard" pour revenir au menu principal</li>
                        <li><strong>Consultez les analytics :</strong> Module 5 pour voir vos ratios performance en temps réel</li>
                    </ol>

                    <h3>🔧 Architecture de Navigation</h3>
                    <div class="code-block">
index.html (Dashboard) ← Point d'entrée central
├── rt_module2_recettes_crud_final.html     (Recettes)
├── rt_module3_charges_crud.html             (Charges Récurrentes)  
├── rt_Module4_charges-periodiques_crud.html (Charges Périodiques)
├── rt_module5_analytics.html                (Analytics)
├── rt_Module7_Previsionnel.html             (Prévisionnel)
└── rocket_tower_sync_system.html            (Administration)
                    </div>

                    <h3>🎯 Navigation Optimale</h3>
                    <div class="feature-grid">
                        <div class="feature-box">
                            <div class="feature-title">📱 Mobile-First</div>
                            Interface responsive optimisée pour tous écrans
                        </div>
                        <div class="feature-box">
                            <div class="feature-title">⚡ Performance</div>
                            Chargement instantané grâce au localStorage
                        </div>
                        <div class="feature-box">
                            <div class="feature-title">🔄 Sync Auto</div>
                            Indicateur visuel de synchronisation en temps réel
                        </div>
                        <div class="feature-box">
                            <div class="feature-title">🎨 Cohérence</div>
                            Design uniforme sur tous les modules
                        </div>
                    </div>

                    <div class="alert alert-warning">
                        <strong>💡 Astuce :</strong> Gardez toujours le Dashboard (<code>index.html</code>) ouvert dans un onglet pour navigation rapide entre modules.
                    </div>
                </div>
            </div>

            <!-- SECTION MODULES -->
            <div id="modules" class="section">
                <div class="card">
                    <h2>🔧 Manuel Détaillé des Modules</h2>

                    <h3>📊 Module 1 - Dashboard Principal</h3>
                    <div class="alert alert-info">
                        <strong>Fonction :</strong> Point d'entrée central avec navigation vers tous les modules
                    </div>
                    <h4>Fonctionnalités :</h4>
                    <ul>
                        <li>Navigation vers les 6 modules opérationnels</li>
                        <li>Indicateur de synchronisation en temps réel</li>
                        <li>Accès direct Google Drive et SeaTable</li>
                        <li>Monitoring global de l'écosystème</li>
                    </ul>

                    <h3>💰 Module 2 - Recettes Récurrentes</h3>
                    <div class="alert alert-success">
                        <strong>Données :</strong> Contrats clients avec lissage automatique et synchronisation
                    </div>
                    <h4>Fonctionnalités CRUD :</h4>
                    <ul>
                        <li><span class="highlight">Ajouter :</span> Nouveau contrat avec périodicité (mensuel, trimestriel, semestriel, annuel)</li>
                        <li><span class="highlight">Modifier :</span> Clic sur ligne du tableau pour édition</li>
                        <li><span class="highlight">Supprimer :</span> Bouton suppression avec confirmation</li>
                        <li><span class="highlight">Filtrer :</span> Par catégorie, centre, périodicité</li>
                    </ul>
                    <h4>Calculs Automatiques :</h4>
                    <ul>
                        <li><strong>Lissage mensuel :</strong> Conversion automatique toutes périodicités vers mensuel</li>
                        <li><strong>Totaux HT/TTC :</strong> Calculs temps réel avec TVA</li>
                        <li><strong>Synchronisation :</strong> Sauvegarde localStorage + cloud</li>
                    </ul>

                    <h3>💸 Module 3 - Charges Récurrentes</h3>
                    <div class="alert alert-success">
                        <strong>Données :</strong> Charges récurrentes avec calculs automatiques
                    </div>
                    <h4>Gestion Avancée :</h4>
                    <ul>
                        <li><strong>Catégories :</strong> LOYERS, CARBURANT, TÉLÉCOM, URSSAF, etc.</li>
                        <li><strong>Centres de coût :</strong> GÉNÉRAL, GARE, WISSEMBOURG</li>
                        <li><strong>Périodicités :</strong> Mensuel, trimestriel, semestriel, annuel</li>
                        <li><strong>Interventions spécifiques :</strong> Mois choisis (format "1,4,7,10")</li>
                    </ul>

                    <h3>📅 Module 4 - Charges Périodiques</h3>
                    <div class="alert alert-success">
                        <strong>Données :</strong> Charges périodiques (1-2 fois/an) avec provision mensuelle
                    </div>
                    <h4>Spécificités :</h4>
                    <ul>
                        <li><strong>Charges exceptionnelles :</strong> Assurances, taxes, abonnements annuels</li>
                        <li><strong>Provision mensuelle :</strong> Calcul automatique (Total TTC ÷ 12)</li>
                        <li><strong>Prochaine échéance :</strong> Suivi des dates importantes</li>
                    </ul>

                    <h3>📈 Module 5 - Analytics Dashboard</h3>
                    <div class="alert alert-info">
                        <strong>Lecture seule :</strong> Analyse automatique des données des modules 2, 3, 4
                    </div>
                    <h4>Indicateurs Temps Réel :</h4>
                    <ul>
                        <li><strong>Totaux lissés HT :</strong> Recettes vs Charges mensuelles</li>
                        <li><strong>Résultat mensuel :</strong> Différence recettes - charges</li>
                        <li><strong>Ratios performance :</strong> Charges/Recettes, Marge opérationnelle</li>
                        <li><strong>Équilibre financier :</strong> ATTEINT / NON ATTEINT automatique</li>
                    </ul>
                    <h4>Répartitions Détaillées :</h4>
                    <ul>
                        <li>Par catégorie (recettes et charges)</li>
                        <li>Top contributeurs par montant</li>
                        <li>Pourcentages et montants moyens</li>
                    </ul>

                    <h3>🔮 Module 7 - Prévisionnel 12 Mois</h3>
                    <div class="alert alert-info">
                        <strong>Projection automatique :</strong> Basée sur les données récurrentes + opérations spécifiques
                    </div>
                    <h4>Fonctionnalités :</h4>
                    <ul>
                        <li><strong>Projection 12 mois :</strong> Calcul automatique basé sur périodicités</li>
                        <li><strong>Solde initial :</strong> Configurable par l'utilisateur</li>
                        <li><strong>Opérations spécifiques :</strong> Ajout d'événements ponctuels par mois</li>
                        <li><strong>Graphique évolution :</strong> Courbe solde cumulé avec Chart.js</li>
                        <li><strong>Détails mensuels :</strong> Accordéons avec répartition recettes/charges</li>
                    </ul>

                    <h3>⚙️ Module Administration - Synchronisation</h3>
                    <div class="alert alert-warning">
                        <strong>Interface avancée :</strong> Monitoring et diagnostic de la synchronisation hybride
                    </div>
                    <h4>Outils de Monitoring :</h4>
                    <ul>
                        <li><strong>État temps réel :</strong> Local vs Cloud, différences détectées</li>
                        <li><strong>Statistiques :</strong> Par module, dernières modifications</li>
                        <li><strong>Actions manuelles :</strong> Export, import, comparaison, reset</li>
                        <li><strong>Journal sync :</strong> Logs détaillés avec horodatage</li>
                    </ul>
                </div>
            </div>

            <!-- NOUVELLE SECTION SYNCHRONISATION -->
            <div id="synchronisation" class="section">
                <div class="card">
                    <h2>🔄 Guide de Synchronisation Collaboratif</h2>

                    <div class="alert alert-success">
                        <strong>🎯 Objectif :</strong> Partager facilement vos données Rocket Tower avec vos collègues en 30 secondes
                    </div>

                    <h3>🚀 Principe de Fonctionnement</h3>
                    <div class="sync-workflow">
                        <div class="person-card">
                            <h4>👤 Vous</h4>
                            <div class="person-role">Responsable des modifications</div>
                        </div>
                        <div class="sync-arrow">📄→</div>
                        <div class="person-card">
                            <h4>👥 Collègues</h4>
                            <div class="person-role">Récepteurs des données</div>
                        </div>
                    </div>

                    <h3>📤 ÉTAPE 1 : Export de vos données (Vous)</h3>
                    <div class="timeline">
                        <div class="timeline-item">
                            <h4>1. Effectuez vos modifications normalement</h4>
                            <p>Travaillez dans vos modules (Recettes, Charges, etc.) comme d'habitude. Toutes vos modifications sont sauvegardées automatiquement.</p>
                        </div>
                        <div class="timeline-item">
                            <h4>2. Accédez à l'interface de synchronisation</h4>
                            <div class="step-actions">
                                <strong>Action :</strong> Allez sur <code>rocket_tower_sync_system.html</code><br>
                                <strong>Raccourci :</strong> Depuis le Dashboard → Module "Administration Synchronisation"
                            </div>
                        </div>
                        <div class="timeline-item">
                            <h4>3. Exportez vos données</h4>
                            <div class="step-actions">
                                <strong>Action :</strong> Cliquez sur le bouton <span class="highlight">"📤 Exporter Données"</span><br>
                                <strong>Résultat :</strong> Un fichier JSON se télécharge automatiquement<br>
                                <strong>Nom du fichier :</strong> <code>rocket-tower-export-2025-08-13.json</code>
                            </div>
                        </div>
                    </div>

                    <h3>📧 ÉTAPE 2 : Envoi du fichier</h3>
                    <div class="alert alert-info">
                        <strong>Méthodes recommandées :</strong><br>
                        • Email en pièce jointe<br>
                        • Google Drive / OneDrive partagé<br>
                        • Teams / Slack<br>
                        • Clé USB (si en présentiel)
                    </div>

                    <h3>📥 ÉTAPE 3 : Import par vos collègues</h3>
                    <div class="timeline">
                        <div class="timeline-item">
                            <h4>1. Réception du fichier</h4>
                            <p>Vos collègues reçoivent et téléchargent le fichier JSON que vous avez envoyé.</p>
                        </div>
                        <div class="timeline-item">
                            <h4>2. Accès à l'interface de synchronisation</h4>
                            <div class="step-actions">
                                <strong>Action :</strong> Ils vont sur <code>rocket_tower_sync_system.html</code><br>
                                <strong>URL :</strong> <code>https://amat67850.github.io/rt-tab-dafdir/rocket_tower_sync_system.html</code>
                            </div>
                        </div>
                        <div class="timeline-item">
                            <h4>3. Import des données</h4>
                            <div class="step-actions">
                                <strong>Action :</strong> Clic sur <span class="highlight">"📥 Importer Données"</span><br>
                                <strong>Sélection :</strong> Choisir votre fichier JSON<br>
                                <strong>Résultat :</strong> Import automatique + message de confirmation
                            </div>
                        </div>
                        <div class="timeline-item">
                            <h4>4. Vérification</h4>
                            <div class="step-actions">
                                <strong>Contrôle :</strong> Aller dans le module Analytics<br>
                                <strong>Validation :</strong> Vérifier que les montants correspondent<br>
                                <strong>Navigation :</strong> Parcourir les autres modules pour confirmer
                            </div>
                        </div>
                    </div>

                    <h3>⚡ Comparaison Avant/Après</h3>
                    <div class="table-responsive">
                        <table>
                            <thead>
                                <tr>
                                    <th>Aspect</th>
                                    <th>❌ Ancienne Méthode</th>
                                    <th>✅ Nouvelle Méthode</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><strong>Temps requis</strong></td>
                                    <td>10-15 minutes</td>
                                    <td>30 secondes</td>
                                </tr>
                                <tr>
                                    <td><strong>Complexité</strong></td>
                                    <td>Console navigateur + commandes techniques</td>
                                    <td>2 clics (Export + Import)</td>
                                </tr>
                                <tr>
                                    <td><strong>Risque d'erreur</strong></td>
                                    <td>Élevé (copier-coller JSON)</td>
                                    <td>Quasi nul (automatique)</td>
                                </tr>
                                <tr>
                                    <td><strong>Types de données</strong></td>
                                    <td>1 par 1 (3 manipulations)</td>
                                    <td>Toutes en une fois</td>
                                </tr>
                                <tr>
                                    <td><strong>Formation requise</strong></td>
                                    <td>Technique</td>
                                    <td>Aucune</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <h3>💡 Bonnes Pratiques</h3>
                    <div class="feature-grid">
                        <div class="feature-box">
                            <div class="feature-title">📅 Fréquence Recommandée</div>
                            Export après modifications importantes ou en fin de journée/semaine
                        </div>
                        <div class="feature-box">
                            <div class="feature-title">📝 Nommage Fichiers</div>
                            Le système nomme automatiquement avec la date du jour
                        </div>
                        <div class="feature-box">
                            <div class="feature-title">🔍 Vérification</div>
                            Toujours vérifier les Analytics après import pour confirmer
                        </div>
                        <div class="feature-box">
                            <div class="feature-title">📧 Communication</div>
                            Informer l'équipe quand de nouvelles données sont disponibles
                        </div>
                    </div>

                    <h3>🚨 Que faire en cas de problème ?</h3>
                    <div class="alert alert-warning">
                        <strong>Problèmes courants et solutions :</strong><br><br>
                        <strong>• "Le fichier ne s'importe pas"</strong><br>
                        → Vérifier que c'est bien un fichier .json<br>
                        → Essayer de l'ouvrir avec un éditeur de texte pour vérifier qu'il n'est pas corrompu<br><br>
                        
                        <strong>• "Les données ne correspondent pas"</strong><br>
                        → Vérifier que vous avez le bon fichier (date récente)<br>
                        → Refaire l'export depuis l'origine<br><br>
                        
                        <strong>• "L'interface ne répond pas"</strong><br>
                        → Rafraîchir la page (F5)<br>
                        → Essayer avec un autre navigateur<br>
                        → Vider le cache du navigateur
                    </div>

                    <h3>📞 Support</h3>
                    <div class="alert alert-info">
                        <strong>En cas de problème persistant :</strong><br>
                        Contactez <strong>daf.amatcorp@gmail.com</strong> en précisant :<br>
                        • Le navigateur utilisé<br>
                        • Le moment où le problème survient<br>
                        • Le message d'erreur éventuel<br>
                        • Une capture d'écran si possible
                    </div>
                </div>
            </div>

            <!-- SECTION ANALYTICS -->
            <div id="analytics" class="section">
                <div class="card">
                    <h2>📈 Interprétation des Analytics</h2>

                    <h3>🎯 Indicateurs Clés de Performance</h3>
                    <div class="table-responsive">
                        <table>
                            <thead>
                                <tr>
                                    <th>Indicateur</th>
                                    <th>Calcul</th>
                                    <th>Interprétation</th>
                                    <th>Objectif</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><strong>Résultat Mensuel HT</strong></td>
                                    <td>Recettes Lissées - Charges Lissées</td>
                                    <td>Bénéfice/Perte mensuel moyen</td>
                                    <td>Positif</td>
                                </tr>
                                <tr>
                                    <td><strong>Ratio Charges/Recettes</strong></td>
                                    <td>(Charges / Recettes) × 100</td>
                                    <td>% des recettes consommé par charges</td>
                                    <td>À optimiser selon contexte</td>
                                </tr>
                                <tr>
                                    <td><strong>Marge Opérationnelle</strong></td>
                                    <td>(Résultat / Recettes) × 100</td>
                                    <td>% de rentabilité opérationnelle</td>
                                    <td>À définir selon activité</td>
                                </tr>
                                <tr>
                                    <td><strong>Équilibre Financier</strong></td>
                                    <td>ATTEINT si Résultat ≥ 0</td>
                                    <td>Viabilité financière</td>
                                    <td>ATTEINT</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <h3>📊 Analyse des Répartitions</h3>
                    <h4>Recettes par Catégorie :</h4>
                    <ul>
                        <li><strong>Diversification :</strong> Aucune catégorie > 50% du total (risque de concentration)</li>
                        <li><strong>Croissance :</strong> Identifier les catégories en progression</li>
                        <li><strong>Rentabilité :</strong> Montant moyen par contrat</li>
                    </ul>

                    <h4>Charges par Catégorie :</h4>
                    <ul>
                        <li><strong>Optimisation :</strong> Identifier les postes de charges les plus lourds</li>
                        <li><strong>Maîtrise :</strong> Évolution des charges fixes vs variables</li>
                        <li><strong>Négociation :</strong> Principales charges = priorités de renégociation</li>
                    </ul>

                    <h3>🎯 Personnalisation des Seuils</h3>
                    <div class="alert alert-info">
                        <strong>Définition de vos propres critères :</strong><br>
                        Les seuils optimaux dépendent de votre secteur d'activité, taille d'entreprise et objectifs stratégiques. 
                        Utilisez vos données historiques pour établir des références personnalisées et suivre l'évolution dans le temps.
                    </div>

                    <h4>📝 Vos Seuils et Objectifs Personnalisés</h4>
                    <div style="background: #f8f9fa; padding: 20px; border-radius: 8px; margin: 15px 0;">
                        <div style="margin-bottom: 15px;">
                            <label for="seuilsPersonnalises" style="font-weight: 600; display: block; margin-bottom: 8px;">
                                Définissez vos propres seuils et objectifs :
                            </label>
                            <textarea 
                                id="seuilsPersonnalises" 
                                style="width: 100%; height: 150px; padding: 12px; border: 2px solid #e9ecef; border-radius: 8px; font-family: inherit; resize: vertical;"
                                placeholder="Exemple :
• Résultat mensuel minimum : 1500€
• Ratio charges/recettes maximum : 85%
• Marge opérationnelle cible : 15%
• Objectif diversification : Aucune catégorie > 60%
• Seuil d'alerte liquidité : 5000€
• Objectif croissance annuelle : +10%

Ajoutez vos propres critères selon votre activité..."
                            ></textarea>
                        </div>
                        <div style="display: flex; gap: 10px;">
                            <button onclick="sauvegarderSeuils()" style="padding: 8px 16px; background: #007bff; color: white; border: none; border-radius: 5px; cursor: pointer;">
                                💾 Sauvegarder
                            </button>
                            <button onclick="chargerSeuils()" style="padding: 8px 16px; background: #28a745; color: white; border: none; border-radius: 5px; cursor: pointer;">
                                📥 Charger
                            </button>
                            <small style="color: #6c757d; align-self: center;">Sauvegarde locale dans votre navigateur</small>
                        </div>
                    </div>
                </div>
            </div>

            <!-- SECTION DÉPANNAGE -->
            <div id="depannage" class="section">
                <div class="card">
                    <h2>⚙️ Dépannage et Solutions</h2>

                    <div class="alert alert-warning">
                        <strong>📞 Support Technique :</strong><br>
                        En cas de problème persistant et sans réponse dans les indications ci-dessous, contacter <strong>daf.amatcorp@gmail.com</strong>
                    </div>

                    <h3>🔧 Problèmes Courants et Solutions</h3>

                    <h4>📊 "Les analytics ne se mettent pas à jour"</h4>
                    <div class="code-block">
Solution :
1. Cliquer sur "🔄 Actualiser" dans le module Analytics
2. Vérifier que les données sont bien saisies dans modules 2, 3, 4
3. Recharger la page (F5) si nécessaire
                    </div>

                    <h4>🔄 "Problème de synchronisation"</h4>
                    <div class="code-block">
Solution :
1. Aller dans Module Administration Synchronisation
2. Vérifier l'état de connexion (point coloré en haut à droite)
3. Cliquer "⚡ Synchroniser" pour forcer la sync
4. Si persistent : bouton "🔄 Reset Local" puis ressaisir
                    </div>

                    <h4>📱 "Interface déformée sur mobile"</h4>
                    <div class="code-block">
Solution :
1. Rotation écran (paysage recommandé pour tableaux)
2. Zoom navigateur ajusté (100% recommandé)
3. Utiliser navigation par onglets plutôt que multiples fenêtres
                    </div>

                    <h4>🔮 "Prévisionnel incorrect"</h4>
                    <div class="code-block">
Solution :
1. Vérifier le solde initial (doit être correct)
2. Contrôler les périodicités des charges/recettes
3. Recalculer avec bouton "🔄 Calculer Prévisionnel"
4. Supprimer opérations spécifiques erronées si nécessaire
                    </div>

                    <h3>🛡️ Sauvegarde et Récupération</h3>

                    <h4>💾 Sauvegarder vos données :</h4>
                    <ol class="step-list">
                        <li><strong>Module Administration :</strong> Aller dans Administration Synchronisation</li>
                        <li><strong>Export :</strong> Utiliser "📤 Exporter Données"</li>
                        <li><strong>Manuel :</strong> Copier les données localStorage (outils développeur)</li>
                        <li><strong>PDF :</strong> Exporter Analytics + Prévisionnel en PDF pour archivage</li>
                    </ol>

                    <h4>🔄 Récupérer après problème :</h4>
                    <ol class="step-list">
                        <li><strong>Import automatique :</strong> Utiliser "📥 Importer Données" avec fichier de sauvegarde</li>
                        <li><strong>Reset :</strong> Module Administration → "🔄 Reset Local" puis ressaisir</li>
                        <li><strong>Navigation :</strong> Toujours revenir au Dashboard en cas de problème</li>
                    </ol>

                    <h3>⚡ Optimisation Performance</h3>

                    <div class="feature-grid">
                        <div class="feature-box">
                            <div class="feature-title">🚀 Navigation Rapide</div>
                            Garder Dashboard ouvert, naviguer par onglets
                        </div>
                        <div class="feature-box">
                            <div class="feature-title">💾 LocalStorage</div>
                            Données instantanées, pas de délai réseau
                        </div>
                        <div class="feature-box">
                            <div class="feature-title">📱 Mobile Optimisé</div>
                            Interface responsive, fonctionne partout
                        </div>
                        <div class="feature-box">
                            <div class="feature-title">🔄 Sync Intelligente</div>
                            Fonctionne hors ligne, sync quand connexion
                        </div>
                    </div>

                    <h3>📞 Support et Évolutions</h3>
                    <div class="alert alert-info">
                        <strong>Architecture Évolutive :</strong><br>
                        • Modules indépendants : ajout facile de nouvelles fonctionnalités<br>
                        • Standards web : compatible tous navigateurs<br>
                        • Code documenté : modifications/améliorations facilitées<br>
                        • Synchronisation hybride : base solide pour intégrations futures
                    </div>

                    <h3>🎯 Maintenance Préventive</h3>
                    <ul>
                        <li><strong>Hebdomadaire :</strong> Vérifier synchronisation Module Administration</li>
                        <li><strong>Mensuel :</strong> Export PDF Analytics + Prévisionnel</li>
                        <li><strong>Trimestriel :</strong> Nettoyage données obsolètes</li>
                        <li><strong>Annuel :</strong> Mise à jour périodicités et contrats</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Gestion navigation entre sections
        function showSection(sectionId, clickedElement) {
            // Masquer toutes les sections
            const sections = document.querySelectorAll('.section');
            sections.forEach(section => section.classList.remove('active'));
            
            // Afficher la section demandée
            const targetSection = document.getElementById(sectionId);
            if (targetSection) {
                targetSection.classList.add('active');
            }
            
            // Mettre à jour navigation active
            const navItems = document.querySelectorAll('.nav-item');
            navItems.forEach(item => item.classList.remove('active'));
            if (clickedElement) {
                clickedElement.classList.add('active');
            }
            
            // Scroll vers le haut
            window.scrollTo(0, 0);
        }

        // Fonction de recherche
        function rechercherContenu(query) {
            const sections = document.querySelectorAll('.section');
            const searchQuery = query.toLowerCase();
            
            if (searchQuery.length < 2) {
                // Réinitialiser si query trop courte
                sections.forEach(section => {
                    const elements = section.querySelectorAll('*');
                    elements.forEach(el => {
                        if (el.style.backgroundColor === 'yellow') {
                            el.style.backgroundColor = '';
                        }
                    });
                });
                return;
            }
            
            // Rechercher dans toutes les sections
            sections.forEach(section => {
                const textNodes = getTextNodes(section);
                textNodes.forEach(node => {
                    const parent = node.parentNode;
                    if (node.textContent.toLowerCase().includes(searchQuery)) {
                        parent.style.backgroundColor = 'yellow';
                        
                        // Afficher la section contenant le résultat
                        const sectionContainer = parent.closest('.section');
                        if (sectionContainer) {
                            sections.forEach(s => s.classList.remove('active'));
                            sectionContainer.classList.add('active');
                            
                            // Mettre à jour navigation
                            const sectionId = sectionContainer.id;
                            const navItems = document.querySelectorAll('.nav-item');
                            navItems.forEach(item => item.classList.remove('active'));
                            
                            // Scroll vers l'élément trouvé
                            parent.scrollIntoView({ behavior: 'smooth', block: 'center' });
                        }
                    } else {
                        parent.style.backgroundColor = '';
                    }
                });
            });
        }

        // Utilitaire pour récupérer les nœuds de texte
        function getTextNodes(element) {
            let textNodes = [];
            if (element.nodeType === Node.TEXT_NODE) {
                textNodes.push(element);
            } else {
                for (let child of element.childNodes) {
                    textNodes.push(...getTextNodes(child));
                }
            }
            return textNodes;
        }

        // Auto-scroll smooth pour navigation
        document.addEventListener('DOMContentLoaded', function() {
            // Effet de fade-in au chargement
            document.querySelector('.container').style.opacity = '0';
            setTimeout(() => {
                document.querySelector('.container').style.transition = 'opacity 0.5s ease';
                document.querySelector('.container').style.opacity = '1';
            }, 100);
            
            // S'assurer que la section démarrage est active par défaut
            const defaultNavItem = document.querySelector('.nav-item.active');
            showSection('demarrage', defaultNavItem);

            // Charger automatiquement les seuils s'ils existent
            setTimeout(() => {
                const seuils = localStorage.getItem('rocket_tower_seuils_personnalises');
                const textarea = document.getElementById('seuilsPersonnalises');
                if (seuils && textarea) {
                    textarea.value = seuils;
                }
            }, 1000);
        });

        // Raccourcis clavier
        document.addEventListener('keydown', function(e) {
            // Ctrl + / pour focus recherche
            if (e.ctrlKey && e.key === '/') {
                e.preventDefault();
                document.querySelector('.search-input').focus();
            }
            
            // Escape pour vider recherche
            if (e.key === 'Escape') {
                document.querySelector('.search-input').value = '';
                rechercherContenu('');
            }
        });

        // Fonctions pour les seuils personnalisés
        function sauvegarderSeuils() {
            const seuils = document.getElementById('seuilsPersonnalises').value;
            if (seuils.trim()) {
                localStorage.setItem('rocket_tower_seuils_personnalises', seuils);
                alert('✅ Seuils sauvegardés avec succès !');
            } else {
                alert('⚠️ Veuillez saisir vos seuils avant de sauvegarder.');
            }
        }

        function chargerSeuils() {
            const seuils = localStorage.getItem('rocket_tower_seuils_personnalises');
            if (seuils) {
                document.getElementById('seuilsPersonnalises').value = seuils;
                alert('✅ Seuils chargés avec succès !');
            } else {
                alert('ℹ️ Aucun seuil sauvegardé trouvé.');
            }
        }
    </script>
</body>
</html>
